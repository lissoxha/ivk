# Игра «Квадраты» (CLI + REST API + Web UI)

Проект реализует игру «Квадраты». Доступны три режима:
- консольная игра (пользователь ↔ компьютер / два компьютера / два пользователя),
- REST‑сервис для расчёта следующего хода и статуса игры,
- минимальный веб‑интерфейс, работающий через REST‑сервис.

## Сборка
```
mvn -f squares/pom.xml clean package
```

## Запуск
- CLI: `java -cp squares/target/squares-1.0.0.jar org.example.squares.cli.CliApp`
- API и веб‑интерфейс: `java -jar squares/target/squares-1.0.0.jar`, затем открыть `http://localhost:8088/`

## Команды CLI
- `GAME N, user W, comp B` — начать новую игру на доске N×N, первый ход у W.
- `MOVE X, Y` — сделать ход в клетку X,Y.
- `HELP` — показать справку.
- `EXIT` — выход.

Формат вывода хода компьютера: `C (X, Y)`, где C ∈ {W,B}.

Игра заканчивается победой (обнаружен квадрат фишек одного цвета под любым углом) либо ничьёй (все клетки заняты).

## REST API
- `POST /api/next-move` — расчёт следующего хода компьютера.
- `POST /api/status` — статус игры: `IN_PROGRESS`, `WHITE_WINS`, `BLACK_WINS`, `DRAW`.

Тело запроса:
```json
{
  "size": 7,
  "rows": [".......",".......","....W..",".......","...B...",".......","......."],
  "turn": "WHITE"
}
```
`rows` — массив строк длины `size`, символы: `.` — пусто, `W` — белая, `B` — чёрная. `turn` — чей ход.

## Архитектура
- `engine` — ядро: доска, правила, проверка квадратов, простая эвристика выбора хода.
- `cli` — консольный интерфейс, парсер команд.
- `api` — Spring Boot приложение, отдаёт API и статические файлы веб‑интерфейса.

## Запуск автотестов на GitHub Actions
При каждом `push` выполняется сборка и короткий smoke‑тест API. Конфигурация: `.github/workflows/squares-ci.yml`.

## Примечания по реализации
- Проверка квадратов работает для произвольной ориентации относительно осей.
- Для ИИ используется простая стратегия: выиграть одним ходом, заблокировать чужой выигрыш, иначе выбрать ближайшую к центру свободную клетку.

## Требования к окружению
- JDK 17+
- Maven 3.8+
